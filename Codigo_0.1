# Abre a câmera
camera = cv2.VideoCapture(0)

# Executa um loop infinito
while True:

    # Captura um quadro da câmera
    ret, frame = camera.read()

    # Detecta os rostos no quadro
    faces = cv2.face.detectMultiScale(frame, scaleFactor=1.1, minNeighbors=5, minSize=(30, 30))

    # Conta o número de rostos
    numero_pessoas = len(faces)

    # Exibe o número de pessoas na tela
    cv2.putText(frame, f"Pessoas: {numero_pessoas}", (10, 20), cv2.FONT_HERSHEY_SIMPLEX, 0.5, (0, 255, 0))

    # Exibe o quadro na tela
    cv2.imshow("Frame", frame)

    # Verifica se o usuário pressionou a tecla ESC
    key = cv2.waitKey(1)
    if key == 27:
        break

# Fecha a câmera
camera.release()

# Destroi todas as janelas abertas
cv2.destroyAllWindows()
